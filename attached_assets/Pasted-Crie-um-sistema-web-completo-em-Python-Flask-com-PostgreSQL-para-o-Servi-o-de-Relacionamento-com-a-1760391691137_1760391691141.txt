Crie um sistema web completo em Python (Flask) com PostgreSQL para o ServiÃ§o de Relacionamento com a IndÃºstria (SRI) do SENAI 1.03, incluindo login seguro, controle de permissÃµes, relatÃ³rios, dashboards, exportaÃ§Ã£o e importaÃ§Ã£o de planilhas, alÃ©m de integraÃ§Ã£o com notificaÃ§Ãµes e upload de arquivos.

O sistema deve ser profissional, moderno, seguro e responsivo, com arquitetura modular e seguindo boas prÃ¡ticas de desenvolvimento.

âš™ï¸ Requisitos tÃ©cnicos

Backend: Python 3.11 + Flask

Banco de dados: PostgreSQL

ORM: SQLAlchemy + Flask-Migrate

Frontend: Bootstrap 5 + HTML + Jinja2 + JavaScript (fetch/AJAX)

AutenticaÃ§Ã£o: Flask-Login + Werkzeug Security (hash de senha)

MigraÃ§Ãµes: Flask-Migrate

RelatÃ³rios e grÃ¡ficos: Chart.js + Plotly

ExportaÃ§Ã£o: Pandas + openpyxl (XLSX) + CSV + PDF (ReportLab)

ImportaÃ§Ã£o de planilhas: openpyxl

Upload de arquivos: Flask-Uploads ou Flask-WTF

NotificaÃ§Ãµes: via e-mail (Flask-Mail) e no painel

Controle de logs: log de aÃ§Ãµes do usuÃ¡rio e auditoria

Arquitetura: MVC com Blueprints (modularizada)

Hospedagem compatÃ­vel: Railway ou Render

ğŸ§© Funcionalidades principais
ğŸ” 1. Sistema de login e seguranÃ§a

Tela de login com:

E-mail e senha

RecuperaÃ§Ã£o de senha via e-mail

Bloqueio apÃ³s 5 tentativas falhas

Logout com expiraÃ§Ã£o de sessÃ£o

AutenticaÃ§Ã£o de dois fatores opcional (2FA por e-mail)

Cookies seguros, CSRF e validaÃ§Ã£o de sessÃ£o

Criptografia de senhas com Werkzeug (generate_password_hash)

ğŸ‘¥ 2. UsuÃ¡rios e permissÃµes

CRUD completo de usuÃ¡rios

Perfis de acesso:

Administrador: acesso total, cria usuÃ¡rios, define permissÃµes, gera relatÃ³rios globais

Coordenador: acesso a todos os dados de empresas, visitas e demandas

Atendente: cria e edita visitas e demandas apenas de suas empresas

Leitor: acesso somente leitura para visualizaÃ§Ã£o de relatÃ³rios

Registro de atividade (log de aÃ§Ãµes): login, ediÃ§Ã£o, exclusÃ£o, criaÃ§Ã£o

Tabela de logs com IP, usuÃ¡rio, data e aÃ§Ã£o

ğŸ¢ 3. Cadastro e gestÃ£o de empresas

Campos:

Nome, CNPJ, IE, segmento industrial, porte, endereÃ§o, cidade, UF, contato principal, telefone, e-mail

Status do relacionamento (ativo, inativo, prospect, estratÃ©gico)

ObservaÃ§Ãµes, data de cadastro, responsÃ¡vel

Upload de documentos (contratos, relatÃ³rios)

ImportaÃ§Ã£o em massa via planilha XLSX ou CSV (com verificaÃ§Ã£o de duplicidade por CNPJ)

ExportaÃ§Ã£o filtrada de empresas para Excel/PDF

Busca inteligente (nome, CNPJ, cidade, segmento)

HistÃ³rico de interaÃ§Ãµes com a empresa (visitas, demandas, projetos)

ğŸ“… 4. GestÃ£o de visitas tÃ©cnicas

Cadastro de visitas:

Data, empresa, responsÃ¡vel, objetivo, resumo, prÃ³ximos passos

Status: planejada / realizada / cancelada

LocalizaÃ§Ã£o (endereÃ§o + mapa integrado via Google Maps)

Upload de relatÃ³rio de visita (PDF ou DOCX)

Acompanhamento de visitas no calendÃ¡rio interativo (FullCalendar.js)

Filtros por empresa, tÃ©cnico, perÃ­odo, status

ExportaÃ§Ã£o de visitas para Excel e PDF

RelatÃ³rio de visitas com KPIs (nÃºmero de visitas por mÃªs, por tÃ©cnico e por setor)

ğŸ§¾ 5. Demandas e oportunidades

Cadastro de demanda:

Empresa vinculada

Tipo (curso, consultoria, inovaÃ§Ã£o, tecnologia, manutenÃ§Ã£o, outro)

DescriÃ§Ã£o detalhada

Setor responsÃ¡vel

Status (nova, em andamento, concluÃ­da, cancelada)

Valor estimado

ResponsÃ¡vel interno

Datas de criaÃ§Ã£o e conclusÃ£o

HistÃ³rico de atualizaÃ§Ãµes

Anexos (propostas, orÃ§amentos, relatÃ³rios)

Dashboard de conversÃ£o: quantas demandas viraram projetos

ExportaÃ§Ã£o de demandas para Excel/PDF

ğŸ“† 6. Agenda integrada

CalendÃ¡rio central de todas as visitas e demandas

Filtros por responsÃ¡vel, tipo e status

IntegraÃ§Ã£o com Google Calendar (opcional)

VisualizaÃ§Ã£o mensal/semanal/lista

NotificaÃ§Ãµes de prazos e compromissos

ğŸ“Š 7. Dashboard e relatÃ³rios avanÃ§ados

Painel visual com grÃ¡ficos dinÃ¢micos (Chart.js ou Plotly):

NÃºmero de empresas ativas/inativas

Visitas realizadas por mÃªs e por tÃ©cnico

Demandas abertas, em andamento e concluÃ­das

Valor total de oportunidades geradas

Taxa de conversÃ£o de demandas (%)

Tempo mÃ©dio de atendimento

DistribuiÃ§Ã£o por segmento industrial

Empresas mais atendidas

ğŸ“‘ RelatÃ³rios exportÃ¡veis:

PDF, XLSX e CSV

RelatÃ³rios automÃ¡ticos com filtros:

Por empresa, data, responsÃ¡vel, setor ou status

Por segmento industrial

RelatÃ³rio consolidado mensal do SRI

RelatÃ³rio comparativo entre perÃ­odos

GeraÃ§Ã£o de grÃ¡ficos e planilhas automÃ¡ticas

ğŸ“¥ 8. Upload e importaÃ§Ã£o de planilhas

Upload de planilhas Excel (XLSX) para:

Cadastro em massa de empresas

Carga de visitas e demandas histÃ³ricas

VerificaÃ§Ã£o de duplicidade e validaÃ§Ã£o de campos (ex: CNPJ vÃ¡lido)

ExibiÃ§Ã£o de prÃ©-visualizaÃ§Ã£o antes da importaÃ§Ã£o

Logs das importaÃ§Ãµes realizadas

ğŸ“¤ 9. ExportaÃ§Ã£o de dados

ExportaÃ§Ã£o em formatos:

Excel (XLSX)

CSV

PDF (relatÃ³rios formatados)

OpÃ§Ã£o de exportar apenas filtros aplicados

GeraÃ§Ã£o automÃ¡tica de planilhas com grÃ¡ficos embutidos (usando openpyxl.drawing.chart)

ğŸ”” 10. NotificaÃ§Ãµes e comunicaÃ§Ã£o

NotificaÃ§Ãµes automÃ¡ticas no painel e por e-mail quando:

Uma nova demanda for criada

Uma visita for marcada

Uma demanda mudar de status

Sistema interno de avisos no dashboard

HistÃ³rico de notificaÃ§Ãµes

Envio manual de alertas pelo administrador

ğŸ“ 11. Documentos e anexos

Upload e gerenciamento de documentos relacionados a empresas, visitas e demandas

Tipos de arquivo aceitos: PDF, DOCX, XLSX, PNG, JPG

VisualizaÃ§Ã£o e download direto no sistema

OrganizaÃ§Ã£o em pastas por empresa

ğŸ§® 12. Indicadores e KPIs

Total de empresas ativas

Total de visitas realizadas

Total de demandas criadas / concluÃ­das

Valor total em oportunidades

ConversÃ£o mÃ©dia (demanda â†’ projeto)

Tempo mÃ©dio de resposta

Ranking de atendentes / tÃ©cnicos

Mapa de calor de visitas (Google Maps)

ğŸ§  13. Logs e auditoria

Registro completo de aÃ§Ãµes:

login/logout

criaÃ§Ã£o/ediÃ§Ã£o/exclusÃ£o de registros

importaÃ§Ãµes/exportaÃ§Ãµes realizadas

Tabela de logs com data, usuÃ¡rio, IP e descriÃ§Ã£o da aÃ§Ã£o

RelatÃ³rio de auditoria exportÃ¡vel

ğŸ’¬ 14. Interface e usabilidade

Layout responsivo (Bootstrap 5)

Tema com cores institucionais do SENAI

Navbar com acesso rÃ¡pido Ã s seÃ§Ãµes: Dashboard / Empresas / Visitas / Demandas / RelatÃ³rios / ConfiguraÃ§Ãµes

Pesquisa global no topo

PaginaÃ§Ã£o e filtros em todas as tabelas

ConfirmaÃ§Ã£o visual antes de excluir registros

Mensagens de sucesso e erro com SweetAlert2

âš™ï¸ 15. ConfiguraÃ§Ãµes administrativas

CRUD de usuÃ¡rios e permissÃµes

Cadastro de tipos de demanda, segmentos industriais e status

ConfiguraÃ§Ã£o de parÃ¢metros gerais (limite de tentativas de login, envio de e-mail, etc.)

Backup automÃ¡tico do banco (dump diÃ¡rio .sql)

ğŸ§± 16. Estrutura de pastas sugerida
/sri_app
â”‚
â”œâ”€â”€ app.py
â”œâ”€â”€ config.py
â”œâ”€â”€ requirements.txt
â”‚
â”œâ”€â”€ /models
â”‚   â”œâ”€â”€ user.py
â”‚   â”œâ”€â”€ empresa.py
â”‚   â”œâ”€â”€ visita.py
â”‚   â”œâ”€â”€ demanda.py
â”‚   â”œâ”€â”€ log.py
â”‚
â”œâ”€â”€ /routes
â”‚   â”œâ”€â”€ auth.py
â”‚   â”œâ”€â”€ empresas.py
â”‚   â”œâ”€â”€ visitas.py
â”‚   â”œâ”€â”€ demandas.py
â”‚   â”œâ”€â”€ relatorios.py
â”‚   â”œâ”€â”€ dashboard.py
â”‚   â”œâ”€â”€ uploads.py
â”‚
â”œâ”€â”€ /templates
â”‚   â”œâ”€â”€ base.html
â”‚   â”œâ”€â”€ login.html
â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”œâ”€â”€ empresas/
â”‚   â”œâ”€â”€ visitas/
â”‚   â”œâ”€â”€ demandas/
â”‚   â”œâ”€â”€ relatorios/
â”‚
â”œâ”€â”€ /static
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ uploads/

ğŸ§° 17. Requisitos adicionais

Rotas RESTful para APIs (para futura integraÃ§Ã£o com aplicativo mÃ³vel)

ProteÃ§Ã£o de todas as rotas privadas

PaginaÃ§Ã£o de resultados

Sistema multilÃ­ngue preparado (pt-br, en)

Logging com Python logging module

ConfiguraÃ§Ã£o de ambiente (.env com Flask-dotenv)

ğŸ§¾ 18. Extras opcionais

Dashboard com dark mode

IntegraÃ§Ã£o com API da ReceitaWS (consulta de CNPJ)

Chat interno entre usuÃ¡rios (Flask-SocketIO)

Mapa de calor de empresas visitadas (Plotly ou Folium)

Envio automÃ¡tico de relatÃ³rios mensais por e-mail em PDF